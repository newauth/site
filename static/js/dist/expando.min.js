'use strict';class Expando{constructor(a){this._el=a;this._elInner=a.querySelector(".js-expando-inner");this._elInnerInverter=a.querySelector(".js-expando-inner-inverter");this._expandBtn=a;this._content=a.querySelector(".js-content");this.toggle=this.toggle.bind(this);this.expand=this.expand.bind(this);this.collapse=this.collapse.bind(this);this._calculate();this._createEaseAnimations()}expand(){this._isExpanded||(this._isExpanded=!0,this._applyAnimation({expand:!0}))}collapse(){this._isExpanded&&
(this._isExpanded=!1,this._applyAnimation({expand:!1}))}toggle(){if(this._isExpanded)return this.collapse();this.expand()}_applyAnimation({expand:a}=opts){this._elInner.classList.remove("item--expanded");this._elInner.classList.remove("item--collapsed");this._elInnerInverter.classList.remove("item__contents--expanded");this._elInnerInverter.classList.remove("item__contents--collapsed");window.getComputedStyle(this._elInner).transform;a?(this._elInner.classList.add("item--expanded"),this._elInnerInverter.classList.add("item__contents--expanded")):
(this._elInner.classList.add("item--collapsed"),this._elInnerInverter.classList.add("item__contents--collapsed"))}_calculate(){var a=this._el.getBoundingClientRect(),b=this._expandBtn.getBoundingClientRect(),c=this._content.getBoundingClientRect();const d=Math.abs(c.right-a.left);a=Math.abs(c.bottom-a.top);c=b.width;b=b.height;const e=.5*c;this._scale=(Math.sqrt(d*d+a*a)-e)/e;this._el.style.width=`${d}px`;this._el.style.height=`${a}px`;this._elInner.style.width=`${c}px`;this._elInner.style.height=
`${b}px`;this._elInner.style.transformOrigin=`${.5*c}px ${.5*b}px`;this._elInnerInverter.style.transformOrigin=`${.5*c}px ${.5*b}px`}_createEaseAnimations(){let a=document.querySelector(".ease");if(a)return a;a=document.createElement("style");a.classList.add("ease");const b=[],c=[],d=[],e=[];for(let a=0;100>=a;a++){const f=this._ease(a/100);this._append({i:a,step:f,start:1,end:this._scale,outerAnimation:b,innerAnimation:c});this._append({i:a,step:f,start:this._scale,end:1,outerAnimation:d,innerAnimation:e})}a.textContent=
`
      @keyframes expandAnimation {
        ${b.join("")}
      }
      @keyframes expandContentsAnimation {
        ${c.join("")}
      }
      @keyframes collapseAnimation {
        ${d.join("")}
      }
      @keyframes collapseContentsAnimation {
        ${e.join("")}
      }`;document.head.appendChild(a);return a}_append({i:a,step:b,start:c,end:d,outerAnimation:e,innerAnimation:g}=opts){b=c+(d-c)*b;c=1/b;e.push(`
      ${a}% {
        transform: scale(${b});
      }`);g.push(`
      ${a}% {
        transform: scale(${c});
      }`)}_clamp(a,b,c){return Math.max(b,Math.min(c,a))}_ease(a,b=4){a=this._clamp(a,0,1);return 1-Math.pow(1-a,b)}};